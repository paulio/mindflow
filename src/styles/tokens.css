:root {
  /* Color tokens */
  --color-bg: #111;
  --color-surface: #1b1b1f;
  --color-border: #2a2a30;
  --color-text: #f5f5f5;
  --color-accent: #4f9dff;
  --color-accent-hover: #7ab8ff;
  --color-danger: #ff4f64;
  --color-focus-ring: #99c7ff;

  /* Spacing */
  --space-1: 4px;
  --space-2: 8px;
  --space-3: 12px;
  --space-4: 16px;
  --space-6: 24px;
  --space-8: 32px;

  /* Radius */
  --radius-sm: 3px;
  --radius-md: 6px;
  --radius-lg: 10px;

  /* Motion */
  --ease-standard: cubic-bezier(.4,0,.2,1);
  --dur-fast: 80ms;
  --dur-med: 160ms;
  --dur-slow: 320ms;

  /* Typography */
  --font-size-body: 14px;
  --font-size-node: 9px;
  --line-height-node: 1.3; /* Slightly higher to preserve readability at very small size */
}

/* Theme variable indirection (semantic) */
.theme-classic {
  --mf-node-bg: #1b1b1f;
  --mf-node-bg-selected: #22242a;
  --mf-node-border: #2a2a30;
  --mf-node-border-selected: var(--color-accent);
  --mf-node-border-width: 1px;
  --mf-node-border-width-selected: 2px;
  --mf-node-text: var(--color-text);
  --mf-handle-source: #ffd84f;
  --mf-handle-target: #4f9dff;
  --mf-selection-outline: 0 0 0 3px rgba(79,157,255,0.35);
  --mf-editor-bg: transparent;
  --mf-editor-text: var(--color-text);
  --mf-edge-halo-width: 12;
  --mf-edge-core-width: 4;
  --mf-handle-size: 10px;
  --mf-handle-border-width: 2px;
}

.theme-subtle {
  --mf-node-bg: #202022;
  --mf-node-bg-selected: #262628;
  --mf-node-border: #2c2c2e;
  --mf-node-border-selected: #3a3a3d;
  --mf-node-border-width: 0.5px; /* thinner */
  --mf-node-border-width-selected: 0.5px;
  --mf-node-text: #f2f2f2;
  --mf-handle-source: #e7c34a;
  --mf-handle-target: #6aa8e8;
  --mf-selection-outline: 0 0 0 1px rgba(122,184,255,0.30); /* thinner outline */
  --mf-editor-bg: transparent;
  --mf-editor-text: #f2f2f2;
  --mf-edge-halo-width: 4; /* thinner halo */
  --mf-edge-core-width: 1; /* thinner core line */
  --mf-handle-size: 8px; /* smaller handles */
  --mf-handle-border-width: 1px; /* thinner handle border */
}

.focus-ring {
  outline: 2px solid var(--color-focus-ring);
  outline-offset: 2px;
  border-radius: var(--radius-md);
}
